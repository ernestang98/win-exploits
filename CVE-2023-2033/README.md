# CVE-2023-2033

### References

[CVE-2023-2033 #1](https://github.com/mistymntncop/CVE-2023-2033/blob/main/exploit.js), [CVE-2023-2033 #2](https://x.com/mistymntncop/status/1686708416222527489?s=20),
[CVE-2023-2033 #3](https://hackyboiz.github.io/2024/01/18/ogu123/cve-2023-2033/),
[CVE-2023-2033 #4](https://github.com/sandumjacob/CVE-2023-2033-Analysis/blob/main/test.html),
[CVE-2023-2033 #5](https://cwresearchlab.co.kr/entry/CVE-2023-2033-JIT-optimisation-issue),
[CVE-2023-2033 #6](https://cwresearchlab.co.kr/entry/Chrome-v8-Hole-Exploit),
[CVE-2023-2033 #7](https://spektre.in/posts/the-holy-hole-analysis-of-cve-2023-2033/#poc),
[CVE-2023-2033 #8](https://github.com/sandumjacob/CVE-2023-2033-Analysis/tree/main),
[CVE-2023-2033 #9](https://h0meb0dy.me/entry/V8-Hole-Exploit-Chromium-1150579090), 
[CRBug Report](https://issues.chromium.org/issues/40063989)

### Exploiting TheHole 

- CVE-2023-2033 is an Inline Caching bug which leads to leaking the value of TheHole

- Usually, if vulnerabilities in Chrome led to leaking the value of TheHole, what we could originally do is to abuse TheHole and the Map JavaScript object to create an OOBArray to then build the respective primitives to create our RCE

- At some point (which I am lazy to find), this technique was patched (probably did some validation checks when setting Map keys as TheHole)

- tl;dr we abuse JIT compilation and optimisation to introduce a typer bug which leads to the misinterpretation of the type of value TheHole is

- I have no energy to do an entire RCA of the bug itself along with weaponising TheHole to obtain an OOBArray via TurboFan and JIT but [theori](https://blog.theori.io/chaining-n-days-to-compromise-all-part-1-chrome-renderer-rce-1afccf56721b) did a pretty good job at both :) 

- Purpose of this CVE-2023-2033 is to focus more on Ubercage SBX techniques

### RCE Exploitation Technique #1 - Cage SBX JIT Spray

- Attempted technique against Chrome version 109.0.5414.120 where W^X protection is applied on both WASM and JIT-ed Functions

### RCE Exploitation Technique #2 - Cage SBX via tiering_budget_array 

### RCE Exploitation Technique #3 - Cage SBX via imported_function_targets 

